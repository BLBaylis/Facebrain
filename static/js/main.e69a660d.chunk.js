(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},15:function(e,t){e.exports="data:image/png;base64,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"},16:function(e,t,a){e.exports=a(33)},25:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),i=a.n(s),o=(a(10),a(8)),c=a.n(o),l=a(11),u=a(12),m=a(2),p=a(3),d=a(5),h=a(4),b=a(6),g=a(13),f=a.n(g),E=r.a.memo(function(e){var t=e.params;return r.a.createElement(f.a,{className:"particles",params:t})}),v=function(e){var t=e.onRouteChange,a=e.isSignedIn,n=e.signOut;return r.a.createElement("nav",{style:{display:"flex",justifyContent:"flex-end",position:"absolute",top:0,right:0}},!a&&r.a.createElement("span",{onClick:function(){return t("register")},className:"fw600 f3 link dim black underline ma3 ma4-ns pointer"},"Register"),r.a.createElement("span",{onClick:n,className:"fw600 f3 link dim black underline ma3 ma4-ns pointer"},a?"Sign Out":"Sign In"))},C=a(14),w=a.n(C),x=(a(25),a(15)),S=a.n(x),R=function(){return r.a.createElement("div",{className:"dib w-100"},r.a.createElement(w.a,{className:"tilt br2 shadow-2 ma3 ma4-ns",options:{max:50}},r.a.createElement("div",{className:"tilt-inner pa4"},r.a.createElement("img",{style:{height:"100%"},src:S.a,alt:"logo"}))))},N=function(e){var t=e.user,a=t.username,n=t.imageCount,s=t.faceCount;return r.a.createElement("div",null,r.a.createElement("div",{className:"fw600 white f3 pl3 pr3"},"Hi ".concat(a,"! You've entered ").concat(n," links from which ").concat(s," faces have been detected!")))},I=(a(27),function(e){var t=e.boxes;return r.a.createElement(r.a.Fragment,null,t.map(function(e,t){var a=e.top,n=e.left,s=e.right,i=e.bottom;return r.a.createElement("div",{className:"bounding-box",key:t,style:{top:a,left:n,right:s,bottom:i}})}))}),A=function(e){var t=e.url,a=e.boxes;return r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"center mt2 flex",style:{position:"relative"}},t&&r.a.createElement("img",{src:t,alt:"user-submitted",width:"100%",style:{alignSelf:"center"}}),r.a.createElement(I,{boxes:a})))},y=(a(29),function(e){var t=e.onSubmit,a=e.onInputChange;return r.a.createElement("div",null,r.a.createElement("p",{className:"f3 fw600 pr3 pl3"},"Link a picture and FaceBrain will find any faces in it!"),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"form center pa2 pa4-ns br3 shadow-5"},r.a.createElement("input",{className:"f4 pa2 w-70 center",type:"text",onChange:a}),r.a.createElement("button",{className:"w-30 grow f4 link ph3 pv3 dib white bg-light-purple",onClick:t},"Detect"))))}),k=function(e){var t=e.user,a=e.onSubmit,n=e.onInputChange,s=e.boxes,i=e.url;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement(N,{user:t}),r.a.createElement(y,{onSubmit:a,onInputChange:n}),r.a.createElement(A,{boxes:s,url:i}))},j=a(1),U=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.onInputChange=function(e,t){a.setState(Object(j.a)({},e,t.target.value))},a.onSignInSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password;fetch("https://bradnet.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:r,service:"facebrain"})}).then(function(e){return e.json()}).then(function(e){e.id?(a.props.loadUser(e),a.props.onRouteChange("home")):console.error("invalid user")}).catch(console.error)},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.onRouteChange;return r.a.createElement("article",{className:"br3 b--black-10 mv4 w-100 w-50-m w-25-l mw6 center"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("form",{onSubmit:this.onSignInSubmit,className:"measure"},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f1 fw6 ph0 mh0"},"Sign In"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:function(t){return e.onInputChange("email",t)}})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:function(t){return e.onInputChange("password",t)}}))),r.a.createElement("div",{className:""},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in"})),r.a.createElement("div",{className:"lh-copy mt3"},r.a.createElement("a",{onClick:function(){return t("register")},href:"#0",className:"f6 link dim black db"},"Register")))))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:""},a.onInputChange=function(e,t){a.setState(Object(j.a)({},e,t.target.value))},a.onRegisterSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password,s=t.username;s&&n&&r&&fetch("https://bradnet.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:r,username:s,service:"facebrain"})}).then(function(e){return e.json()}).then(function(e){console.log(e),e.id&&(a.props.loadUser(e),a.props.onRouteChange("home"))}).catch(console.error)},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("article",{className:"br3 mv4 w-100 w-50-m w-25-l mw6 center"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("form",{onSubmit:this.onRegisterSubmit,className:"measure"},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f1 fw6 ph0 mh0"},"Register"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",type:"text",htmlFor:"username"},"Username"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"username",onChange:function(t){return e.onInputChange("username",t)},id:"username"})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email"},"Email"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",onChange:function(t){return e.onInputChange("email",t)},id:"email-address"})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",onChange:function(t){return e.onInputChange("password",t)},id:"password"}))),r.a.createElement("div",{className:""},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Register"})))))}}]),t}(n.Component),q={particles:{number:{value:25},shape:{type:"edge"},opacity:{random:!0,anim:{enable:!0,speed:.32460945425035526,opacity_min:.1}},size:{value:71.02665077774184,random:!0},line_linked:{enable:!1},move:{enable:!0,speed:4,direction:"none",random:!1,out_mode:"out"}},retina_detect:!0},Q={input:"",url:"",boxes:[],route:"signIn",isSignedIn:!1,user:{id:void 0,username:"unknown user",imageCount:0,faceCount:0}},F=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state=Q,a.onInputChange=function(e){a.setState({input:e.target.value})},a.onSubmit=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,s,i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({url:a.state.input});case 2:if(""!==a.state.url){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,fetch("https://bradnet.herokuapp.com/imageurl",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:a.state.url})});case 6:if((n=e.sent).ok){e.next=9;break}return e.abrupt("return",console.error(n.statusText));case 9:return e.next=11,n.json();case 11:return r=e.sent,s=r.outputs[0].data.regions,i=s.map(function(e){return a.generateBoxInfo(e.region_info.bounding_box)}),e.next=16,fetch("https://bradnet.herokuapp.com/image",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.state.user.id,faceCountIncre:i.length})});case 16:if((o=e.sent).ok){e.next=19;break}return e.abrupt("return",console.error(o.statusText));case 19:a.setState({boxes:i,user:Object(l.a)({},a.state.user,{imageCount:a.state.user.imageCount+1,faceCount:a.state.user.faceCount+i.length})});case 20:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.loadUser=function(e){var t=e.id,n=e.username,r=e.image_count,s=e.face_count;a.setState({user:{id:t,username:n,imageCount:r,faceCount:s}})},a.signOut=function(){a.setState(Q),a.onRouteChange("signIn")},a.onRouteChange=function(e){"home"===e?a.setState({isSignedIn:!0}):a.setState(Q),a.setState({route:e})},a.generateBoxInfo=function(e){for(var t={},a=Object.values(e).map(function(e){return 100*e}).map(function(e,t,a){return"".concat(t>1?100-e:e,"%")}),n=Object.keys(e).map(function(e){return e.replace("_row","")}).map(function(e){return e.replace("_col","")}),r=0;r<n.length;r++)t[n[r]]=a[r];return t},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.url,a=e.boxes,n=e.route,s=e.isSignedIn,i=e.user,o="App courier flex flex-column";return s||(o+=" justify-center"),r.a.createElement("div",{className:o},r.a.createElement(E,{params:q}),r.a.createElement(v,{isSignedIn:s,signOut:this.signOut,onRouteChange:this.onRouteChange}),"signIn"===n&&r.a.createElement(U,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}),"register"===n&&r.a.createElement(O,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}),"home"===n&&r.a.createElement(k,{user:i,onSubmit:this.onSubmit,onInputChange:this.onInputChange,boxes:a,url:t}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(31);i.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.e69a660d.chunk.js.map